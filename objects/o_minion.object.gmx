<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
	<spriteName>&lt;undefined&gt;</spriteName>
	<solid>0</solid>
	<visible>-1</visible>
	<depth>0</depth>
	<persistent>0</persistent>
	<parentName>&lt;undefined&gt;</parentName>
	<maskName>&lt;undefined&gt;</maskName>
	<events>
		<event eventtype="0" enumb="0">
			<action>
				<libid>1</libid>
				<id>603</id>
				<kind>7</kind>
				<userelative>0</userelative>
				<isquestion>0</isquestion>
				<useapplyto>-1</useapplyto>
				<exetype>2</exetype>
				<functionname></functionname>
				<codestring></codestring>
				<whoName>self</whoName>
				<relative>0</relative>
				<isnot>0</isnot>
				<arguments>
					<argument>
						<kind>1</kind>
						<string>attack_triggered = false;
attack_anim_playing = false;
original_x = x;
original_y = y;
enemy_unit = false;
max_hp = 0;
current_hp = 0;
destroying = false;
attack_damage = 0;
highlight = false;
battle_pos = -1;</string>
					</argument>
				</arguments>
			</action>
		</event>
		<event eventtype="2" enumb="0">
			<action>
				<libid>1</libid>
				<id>603</id>
				<kind>7</kind>
				<userelative>0</userelative>
				<isquestion>0</isquestion>
				<useapplyto>-1</useapplyto>
				<exetype>2</exetype>
				<functionname></functionname>
				<codestring></codestring>
				<whoName>self</whoName>
				<relative>0</relative>
				<isnot>0</isnot>
				<arguments>
					<argument>
						<kind>1</kind>
						<string>///ALARM0 CODE
attack_triggered = false;
attack_anim_playing =false;
y = original_y;
if(enemy_unit) {
  if(ds_list_size(o_referee.friendly_minions) == 0) {
    if(o_referee.current_shield &gt; 0) {
      o_referee.current_shield --;
    } else {
      o_referee.current_hp -= attack_damage;
    }
  } else {
    /*show_message("should be attacking other minions");*/
    var m = 0;
    m = ds_list_find_value(o_referee.friendly_minions, 0);
    m.current_hp -= attack_damage;
    current_hp -= m.attack_damage;
  }
} else {
  if(ds_list_size(o_referee.enemy_minions) == 0) {
    if(o_referee.current_enemy.current_shield &gt; 0) {
    } else {
      o_referee.current_enemy.current_shield--;
    }
    o_referee.current_enemy.current_hp -= attack_damage;
  } else {
    /*show_message("should be attacking other minions");*/
    var m = 0;
    m = ds_list_find_value(o_referee.enemy_minions, 0);
    m.current_hp -= attack_damage;
    current_hp -= m.attack_damage;
  }
}</string>
					</argument>
				</arguments>
			</action>
		</event>
		<event eventtype="3" enumb="0">
			<action>
				<libid>1</libid>
				<id>603</id>
				<kind>7</kind>
				<userelative>0</userelative>
				<isquestion>0</isquestion>
				<useapplyto>-1</useapplyto>
				<exetype>2</exetype>
				<functionname></functionname>
				<codestring></codestring>
				<whoName>self</whoName>
				<relative>0</relative>
				<isnot>0</isnot>
				<arguments>
					<argument>
						<kind>1</kind>
						<string>// mouse hover effect if we need it for abilities
if(o_referee.selecting) {
  if(mouse_x &gt; bbox_left &amp;&amp; mouse_x &lt; bbox_right &amp;&amp; mouse_y &gt; bbox_top &amp;&amp; mouse_y &lt; bbox_bottom) {
    highlight = true;
    if(mouse_check_button_pressed(mb_left)) {
      script_execute(o_referee.selected_action, self);
    }
  } else {
    highlight = false;
  }
} else {
  highlight = false;
}


if(current_hp &lt;= 0 &amp;&amp; !destroying) {
  /*show_message("destroying minion");*/
  destroying = true;
  if(enemy_unit) {
    var c = ds_list_find_index(o_referee.enemy_minions, self);
    if(c != -1) {
      /*show_message("enemy minion should be removed");*/
      /*show_message("destroying enemy unit" + string(c));*/
      battle_pos = c;
      instance_destroy();


      // old way
      /*ds_list_delete(o_referee.enemy_minions, c);*/
      /*o_referee.num_enemy_minions--;*/
      /*instance_destroy();*/
    }
  } else {
    var d = ds_list_find_index(o_referee.friendly_minions, self);
    if(d != -1) {
      /*ds_list_delete(o_referee.enemy_minions, d);*/
      battle_pos = d;
      instance_destroy();

      /*ds_list_delete(o_referee.friendly_minions, d);*/
      /*o_referee.num_friendly_minions--;*/
      /*instance_destroy();*/

      /*[&gt;show_message("friendly minion should be removed");&lt;]*/
    }
  }
  // TODO: replace with proper kill animation
}

if(attack_triggered) {
  attack_triggered = false;
  attack_anim_playing = true;
  alarm[0] = 8;
}
if(attack_anim_playing) {
  if(enemy_unit) {
    y += 10;
  } else {
    y -= 10;
  }
}</string>
					</argument>
				</arguments>
			</action>
		</event>
		<event eventtype="8" enumb="0">
			<action>
				<libid>1</libid>
				<id>603</id>
				<kind>7</kind>
				<userelative>0</userelative>
				<isquestion>0</isquestion>
				<useapplyto>-1</useapplyto>
				<exetype>2</exetype>
				<functionname></functionname>
				<codestring></codestring>
				<whoName>self</whoName>
				<relative>0</relative>
				<isnot>0</isnot>
				<arguments>
					<argument>
						<kind>1</kind>
						<string>if (live_call()) return live_result;

draw_set_font(f_default);
if(enemy_unit) {
  draw_sprite(sprite_index, 0, x, y);
} else {
  draw_sprite(sprite_index, 1, x, y);
}
draw_set_halign(fa_center);
draw_set_color(c_red);
draw_text(x-1+sprite_width/2,y+sprite_height/2-60, string(attack_damage)+"/"+string(current_hp))
if(highlight) {
  draw_set_color(c_red);
  draw_rectangle(bbox_left, bbox_top, bbox_right, bbox_bottom, true);
}</string>
					</argument>
				</arguments>
			</action>
		</event>
		<event eventtype="1" enumb="0">
			<action>
				<libid>1</libid>
				<id>603</id>
				<kind>7</kind>
				<userelative>0</userelative>
				<isquestion>0</isquestion>
				<useapplyto>-1</useapplyto>
				<exetype>2</exetype>
				<functionname></functionname>
				<codestring></codestring>
				<whoName>self</whoName>
				<relative>0</relative>
				<isnot>0</isnot>
				<arguments>
					<argument>
						<kind>1</kind>
						<string>if(enemy_unit) {
  var c = ds_list_find_index(o_referee.enemy_minions, self);
  ds_list_delete(o_referee.enemy_minions, c);
  o_referee.num_enemy_minions--;
} else {
  var c = ds_list_find_index(o_referee.friendly_minions, self);
  ds_list_delete(o_referee.friendly_minions, c);
  o_referee.num_friendly_minions--;
}</string>
					</argument>
				</arguments>
			</action>
		</event>
	</events>
	<PhysicsObject>0</PhysicsObject>
	<PhysicsObjectSensor>0</PhysicsObjectSensor>
	<PhysicsObjectShape>0</PhysicsObjectShape>
	<PhysicsObjectDensity>0.5</PhysicsObjectDensity>
	<PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
	<PhysicsObjectGroup>0</PhysicsObjectGroup>
	<PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
	<PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
	<PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
	<PhysicsObjectAwake>-1</PhysicsObjectAwake>
	<PhysicsObjectKinematic>0</PhysicsObjectKinematic>
	<PhysicsShapePoints></PhysicsShapePoints>
</object>